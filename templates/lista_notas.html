<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <title>Lista De Notas</title>
  </head>
  <body>
    <div class="card">
      <div class="card-body">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Descripcion</th>
            </tr>
          </thead>
          <tbody id="lista-notas"></tbody>
        </table>
      </div>
      <div class="card-footer">
        <button class="btn btn-primary" onclick="crearNota()">
          Crear Nota
        </button>
      </div>
    </div>

    <script
      src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"
      type="text/javascript"
    ></script>
    <script>
      $.ajax({
        type: "GET",
        dataType: "json",
        url: "http://localhost:8000/list",
        success: function (data) {
          var listaNotas = $("#lista-notas");
          console.log(data.response);
          $.each(data.response, function (index, elemento) {
            var index_ = index + 1;
            listaNotas.append(
              "<tr>" +
                "<td>" +
                index_ +
                "</td>" +
                "<td>" +
                elemento.name +
                "</td>" +
                "<td>" +
                elemento.description +
                "</td>" +
                "</tr>"
            );
          });
        },
      });
    </script>
    <script>
      function crearNota() {
        console.log("crear");
        window.location.href = "/crear_nota";
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
